{
    "granularity": {
        "type": "hours",
        "count": 1
    },
    "queries": {
        "Microsoft.Sql/servers": [
            { "metric_name": "allocated_data_storage", "aggregations": ["average"] },
            { "metric_name": "blocked_by_firewall", "aggregations": ["total"] },
            { "metric_name": "connection_failed", "aggregations": ["total"] },
            { "metric_name": "connection_failed_user_error", "aggregations": ["total"] },
            { "metric_name": "connection_successful", "aggregations": ["total"] },
            { "metric_name": "cpu_percent", "aggregations": ["average"] },
            { "metric_name": "deadlock", "aggregations": ["total"] },
            { "metric_name": "dtu_consumption_percent", "aggregations": ["average"] },
            { "metric_name": "dtu_limit", "aggregations": ["average"] },
            { "metric_name": "dtu_used", "aggregations": ["average"] },
            { "metric_name": "ledger_digest_upload_failed", "aggregations": ["count"] },
            { "metric_name": "ledger_digest_upload_success", "aggregations": ["count"] },
            { "metric_name": "log_write_percent", "aggregations": ["average"] },
            { "metric_name": "physical_data_read_percent", "aggregations": ["average"] },
            { "metric_name": "sessions_count", "aggregations": ["average"] },
            { "metric_name": "sessions_percent", "aggregations": ["average"] },
            { "metric_name": "sqlserver_process_core_percent", "aggregations": ["maximum"] },
            { "metric_name": "sqlserver_process_memory_percent", "aggregations": ["maximum"] },
            { "metric_name": "storage", "aggregations": ["maximum"] },
            { "metric_name": "storage_percent", "aggregations": ["maximum"] },
            { "metric_name": "tempdb_data_size", "aggregations": ["maximum"] },
            { "metric_name": "tempdb_log_size", "aggregations": ["maximum"] },
            { "metric_name": "tempdb_log_used_percent", "aggregations": ["maximum"] },
            { "metric_name": "workers_percent", "aggregations": ["average"] },
            { "metric_name": "xtp_storage_percent", "aggregations": ["average"] }
        ],
        "Microsoft.DBforMySQL/servers": [
            { "metric_name": "active_connections", "aggregations": ["maximum"] },
            { "metric_name": "backup_storage_used", "aggregations": ["maximum"] },
            { "metric_name": "connections_failed", "aggregations": ["total"] },
            { "metric_name": "cpu_percent", "aggregations": ["average"] },
            { "metric_name": "io_consumption_percent", "aggregations": ["average"] },
            { "metric_name": "memory_percent", "aggregations": ["average"] },
            { "metric_name": "network_bytes_egress", "aggregations": ["total"] },
            { "metric_name": "network_bytes_ingress", "aggregations": ["total"] },
            { "metric_name": "seconds_behind_master", "aggregations": ["maximum"] },
            { "metric_name": "serverlog_storage_limit", "aggregations": ["maximum"] },
            { "metric_name": "serverlog_storage_percent", "aggregations": ["maximum"] },
            { "metric_name": "serverlog_storage_usage", "aggregations": ["maximum"] },
            { "metric_name": "storage_limit", "aggregations": ["maximum"] },
            { "metric_name": "storage_percent", "aggregations": ["average"] },
            { "metric_name": "storage_used", "aggregations": ["maximum"] }
        ],
        "Microsoft.DBforMySQL/flexibleServers": [
            { "metric_name": "Com_alter_table", "aggregations": ["total"] },
            { "metric_name": "Com_create_db", "aggregations": ["total"] },
            { "metric_name": "Com_create_table", "aggregations": ["total"] },
            { "metric_name": "Com_delete", "aggregations": ["total"] },
            { "metric_name": "Com_drop_db", "aggregations": ["total"] },
            { "metric_name": "Com_drop_table", "aggregations": ["total"] },
            { "metric_name": "Com_insert", "aggregations": ["total"] },
            { "metric_name": "Com_select", "aggregations": ["total"] },
            { "metric_name": "Com_update", "aggregations": ["total"] },
            { "metric_name": "HA_IO_status", "aggregations": ["maximum"] },
            { "metric_name": "HA_SQL_status", "aggregations": ["maximum"] },
            { "metric_name": "Innodb_buffer_pool_pages_data", "aggregations": ["total"] },
            { "metric_name": "Innodb_buffer_pool_pages_dirty", "aggregations": ["total"] },
            { "metric_name": "Innodb_buffer_pool_pages_free", "aggregations": ["total"] },
            { "metric_name": "Innodb_buffer_pool_read_requests", "aggregations": ["total"] },
            { "metric_name": "Innodb_buffer_pool_reads", "aggregations": ["total"] },
            { "metric_name": "Queries", "aggregations": ["total"] },
            { "metric_name": "Replica_IO_Running", "aggregations": ["maximum"] },
            { "metric_name": "Replica_SQL_Running", "aggregations": ["maximum"] },
            { "metric_name": "Slow_queries", "aggregations": ["total"] },
            { "metric_name": "aborted_connections", "aggregations": ["total"] },
            { "metric_name": "active_connections", "aggregations": ["maximum"] },
            { "metric_name": "backup_storage_used", "aggregations": ["maximum"] },
            { "metric_name": "cpu_credits_consumed", "aggregations": ["maximum"] },
            { "metric_name": "cpu_credits_remaining", "aggregations": ["maximum"] },
            { "metric_name": "cpu_percent", "aggregations": ["maximum"] },
            { "metric_name": "io_consumption_percent", "aggregations": ["maximum"] },
            { "metric_name": "memory_percent", "aggregations": ["maximum"] },
            { "metric_name": "network_bytes_egress", "aggregations": ["total"] },
            { "metric_name": "network_bytes_ingress", "aggregations": ["total"] },
            { "metric_name": "replication_lag", "aggregations": ["maximum"] },
            { "metric_name": "serverlog_storage_limit", "aggregations": ["maximum"] },
            { "metric_name": "serverlog_storage_percent", "aggregations": ["maximum"] },
            { "metric_name": "serverlog_storage_usage", "aggregations": ["maximum"] },
            { "metric_name": "storage_io_count", "aggregations": ["total"] },
            { "metric_name": "storage_limit", "aggregations": ["maximum"] },
            { "metric_name": "storage_percent", "aggregations": ["maximum"] },
            { "metric_name": "storage_throttle_count", "aggregations": ["maximum"] },
            { "metric_name": "storage_used", "aggregations": ["maximum"] },
            { "metric_name": "total_connections", "aggregations": ["total"] }
        ],
        "Microsoft.Storage/storageAccounts": [
            { "metric_name": "Availability", "aggregations": ["average"] },
            { "metric_name": "Egress", "aggregations": ["total"] },
            { "metric_name": "Ingress", "aggregations": ["total"] },
            { "metric_name": "SuccessE2ELatency", "aggregations": ["average"] },
            { "metric_name": "SuccessServerLatency", "aggregations": ["average"] },
            { "metric_name": "Transactions", "aggregations": ["total"] },
            { "metric_name": "UsedCapacity", "aggregations": ["average"] }
        ]
    }
}